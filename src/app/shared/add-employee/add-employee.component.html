<p-toast position="top-right"></p-toast>
<div class="modal-overlay">
  <div class="modal-content">
    <header class="modal-header">
      <div class="modal-title-container">
        <i class="plus-icon">+</i>
        <h2>Add New Employee</h2>
      </div>
      <p class="modal-subtitle">Fill details to add employee</p>
    </header>

    <form (ngSubmit)="onSubmit()" [formGroup]="userForm">
      <div class="form-group">
        <label for="name" class="form-label">Name *</label>
        <input
          type="text"
          class="form-input"
          id="name"
          formControlName="name"
          placeholder="Enter name"
        />
        @if(formControlsGetter['name'].touched && formControlsGetter['name'].invalid){
        <div class="validation-error">
          @if(formControlsGetter['name'].errors?.['required']){
          <div>Name is required.</div>
          }
        </div>
        }
      </div>

      <div class="form-group">
        <label for="email" class="form-label">Email *</label>
        <input
          type="email"
          class="form-input"
          id="email"
          formControlName="email"
          placeholder="Enter email"
        />
        @if(formControlsGetter['email'].touched && formControlsGetter['email'].invalid){
        <div class="validation-error">
          @if(formControlsGetter['email'].errors?.['required']){
          <div>Email is required.</div>
          } @if(formControlsGetter['email'].errors?.['email']){
          <div>Please enter a valid email.</div>
          }
        </div>
        }
      </div>

      <div class="form-group">
        <label for="department" class="form-label">Department *</label>
        <select class="form-input" id="department" formControlName="department">
          <option value="" disabled>Select department</option>
          @for(dept of departmentList; track dept){

          <option [value]="dept">{{ dept }}</option>

          }
        </select>
        @if(formControlsGetter['department'].touched && formControlsGetter['department'].invalid){
        <div class="validation-error">
          @if(formControlsGetter['department'].errors?.['required']){
          <div>Department is required.</div>
          }
        </div>
        }
      </div>

      <div class="form-group">
        <label for="position" class="form-label">Position *</label>
        <input
          type="text"
          class="form-input"
          id="position"
          formControlName="position"
          placeholder="Enter position"
        />
        @if(formControlsGetter['position'].touched && formControlsGetter['position'].invalid){
        <div class="validation-error">
          @if(formControlsGetter['position'].errors?.['required']){
          <div>Position is required.</div>
          }
        </div>
        }
      </div>

      <div class="form-group">
        <label for="salary" class="form-label">Salary *</label>
        <input
          type="number"
          class="form-input"
          id="salary"
          formControlName="salary"
          placeholder="Enter salary"
        />
        @if(formControlsGetter['salary'].touched && formControlsGetter['salary'].invalid){
        <div class="validation-error">
          @if(formControlsGetter['salary'].errors?.['required']){
          <div>Salary is required.</div>
          } @if(formControlsGetter['salary'].errors?.['min']){
          <div>Salary must be a positive number.</div>
          }
        </div>
        }
      </div>

      <div class="form-actions">
        <button type="button" class="cancel-btn" (click)="onCancel()">
          Cancel
        </button>
        <button type="submit" class="submit-btn" [disabled]="userForm.invalid">
          Add Employee
        </button>
      </div>
    </form>
  </div>
</div>
